<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Joke Generator with Speech</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            margin: 0;
        }
        #joke-container {
            text-align: center;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 500px;
        }
        #joke {
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        #answer {
            font-size: 1.2em;
            margin-bottom: 20px;
            display: none;
            color: #555;
        }
        #reveal-btn {
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            margin: 5px;
            background-color: orange;
            color: white;
            border: none;
            border-radius: 5px;
        }
        #reveal-btn:hover {
            background-color: #cc8400;
        }
    </style>
</head>
<body>

<div id="joke-container">
    <div id="joke"></div>
    <div id="answer"></div>
    <button id="reveal-btn">Reveal</button>
</div>

<script>
// 预定义的笑话和答案列表
const jokes = [
    { joke: "Why don't scientists trust atoms?", answer: "Because they make up everything!" },
    { joke: "Why did the chicken join a band?", answer: "Because it had the drumsticks!" },
    { joke: "What do you call fake spaghetti?", answer: "An impasta!" },
    { joke: "Why was the math book sad?", answer: "Because it had too many problems." },
    { joke: "How does a penguin build its house?", answer: "Igloos it together!" }
];

// 获取DOM元素
const jokeContainer = document.getElementById('joke');
const answerContainer = document.getElementById('answer');
const revealBtn = document.getElementById('reveal-btn');

// 当前的笑话索引
let currentJokeIndex = null;

// 随机生成笑话的函数
function generateRandomJoke() {
    currentJokeIndex = Math.floor(Math.random() * jokes.length);
    return jokes[currentJokeIndex];
}

// 更新笑话内容并通过音频播报笑话
function updateJoke() {
    const currentJoke = generateRandomJoke();
    jokeContainer.textContent = currentJoke.joke;
    answerContainer.textContent = currentJoke.answer;
    answerContainer.style.display = 'none'; // 隐藏答案
    speakText(currentJoke.joke); // 播放笑话
}

// 显示答案并通过音频播报答案
function revealAnswer() {
    if (currentJokeIndex !== null) {
        answerContainer.style.display = 'block';
        speakText(jokes[currentJokeIndex].answer); // 播放答案
    }
}

// 使用SpeechSynthesis API播放文本
function speakText(text) {
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.rate = 1; // 调整语速，1为正常速度
    speechSynthesis.speak(utterance);
}

// 初始化时立即生成并显示一个随机笑话
updateJoke();

// 点击“Reveal”按钮显示答案
revealBtn.addEventListener('click', revealAnswer);

</script>
</body>
</html>
